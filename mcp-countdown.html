<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Days Since Podcast Announcement</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Bootstrap CSS CDN -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
  >

  <style>
    body {
      background-color: #000;
      color: #fff;
    }
    .count-number {
      font-size: 5rem;
      font-weight: 700;
      line-height: 1;
    }
    @media (max-width: 576px) {
      .count-number {
        font-size: 3.5rem;
      }
    }
  </style>
</head>

<body>
  <div class="container-fluid min-vh-100 d-flex justify-content-center align-items-center">
    <div class="text-center">
      <div><H1>Where is it?</H1></div>
      <div id="daysCount" class="count-number">0</div>
      <div class="mt-2 fs-5">number of days since podcast announcement</div>
    </div>
  </div>

  <!-- Background audio (loops) -->
  <audio id="bgAudio" autoplay muted loop playsinline>
    <source src="https://lost.l-w.ca/humour/Hampsterdance/dedodedo.wav" type="audio/wav">
  </audio>

  <script>
    function updateDaysSinceAnnouncement() {
      // Start date: September 1, 2025
      const startLocal = new Date(2025, 8, 26); // 8 = September (0-based)
      const today = new Date();

      // Normalize to UTC midnight so time-of-day/timezone doesn't affect day count
      const startUTC = Date.UTC(
        startLocal.getFullYear(),
        startLocal.getMonth(),
        startLocal.getDate()
      );
      const todayUTC = Date.UTC(
        today.getFullYear(),
        today.getMonth(),
        today.getDate()
      );

      const diffMs = todayUTC - startUTC;
      const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));

      document.getElementById("daysCount").textContent = diffDays;
    }

    function setupAudioAutoplay() {
      const audio = document.getElementById("bgAudio");

      // Start muted autoplay (usually allowed), then attempt to unmute and play.
      // If blocked, we fall back to playing on first user click.
      setTimeout(() => {
        audio.muted = false;

        audio.play().catch(() => {
          document.addEventListener("click", () => {
            audio.muted = false;
            audio.play().catch(() => {});
          }, { once: true });
        });
      }, 200);
    }

    document.addEventListener("DOMContentLoaded", () => {
      updateDaysSinceAnnouncement();
      setupAudioAutoplay();

      // Optional: update the day count periodically if the tab stays open
      setInterval(updateDaysSinceAnnouncement, 1000 * 60 * 60); // hourly
    });
  </script>
</body>
</html>